[{"type":"js","data":"(function () {\n\n/* Imports */\nvar Meteor = Package.meteor.Meteor;\nvar global = Package.meteor.global;\nvar meteorEnv = Package.meteor.meteorEnv;\nvar ECMAScript = Package.ecmascript.ECMAScript;\nvar DDP = Package['ddp-client'].DDP;\nvar DDPServer = Package['ddp-server'].DDPServer;\nvar _ = Package.underscore._;\nvar meteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nvar Promise = Package.promise.Promise;\nvar meteorInstall = Package.modules.meteorInstall;\n\n/* Package-scope variables */\nvar __coffeescriptShare, extendPublish;\n\nvar require = meteorInstall({\"node_modules\":{\"meteor\":{\"peerlibrary:extend-publish\":{\"server.coffee\":function(require,exports,module){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                           //\n// packages/peerlibrary_extend-publish/server.coffee                                                         //\n//                                                                                                           //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                             //\n__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;\nmodule.export({\n  extendPublish: () => extendPublish\n});\n\nvar extendPublish = function (newPublishArguments) {\n  var Server, originalMeteorPublish, originalPublish; // DDP Server constructor.\n\n  Server = Object.getPrototypeOf(Meteor.server).constructor;\n  originalPublish = Server.prototype.publish;\n\n  Server.prototype.publish = function (...args) {\n    var newArgs; // If the first argument is an object, we let the original publish function to traverse it.\n\n    if (_.isObject(args[0])) {\n      originalPublish.apply(this, args);\n      return;\n    }\n\n    newArgs = newPublishArguments.apply(this, args);\n    return originalPublish.apply(this, newArgs);\n  }; // Because Meteor.publish is a bound function it remembers old\n  // prototype method so we have wrap it to directly as well.\n\n\n  originalMeteorPublish = Meteor.publish;\n  return Meteor.publish = function (...args) {\n    var newArgs; // If the first argument is an object, we let the original publish function to traverse it.\n\n    if (_.isObject(args[0])) {\n      originalMeteorPublish.apply(this, args);\n      return;\n    }\n\n    newArgs = newPublishArguments.apply(this, args);\n    return originalMeteorPublish.apply(this, newArgs);\n  };\n};\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}}}},{\n  \"extensions\": [\n    \".js\",\n    \".json\",\n    \".coffee\"\n  ]\n});\n\nvar exports = require(\"/node_modules/meteor/peerlibrary:extend-publish/server.coffee\");\n\n/* Exports */\nPackage._define(\"peerlibrary:extend-publish\", exports, {\n  extendPublish: extendPublish\n});\n\n})();\n","servePath":"/packages/peerlibrary_extend-publish.js","sourceMap":{"version":3,"sources":["/packages/peerlibrary_extend-publish/server.coffee","/server.coffee"],"names":["module","export","extendPublish","newPublishArguments","Server","originalMeteorPublish","originalPublish","Object","getPrototypeOf","Meteor","server","constructor","prototype","publish","args","newArgs","_","isObject","apply"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAAA,OAAAC,MAAA,CAAO;AAAAC,iBAAgB,MAAAA;AAAhB,CAAP;;AAAA,IAAOA,gBAAgB,UAACC,mBAAD;AAErB,MAAAC,MAAA,EAAAC,qBAAA,EAAAC,eAAA,CAFqB,CCErB;;ADAAF,WAASG,OAAOC,cAAP,CAAsBC,OAAOC,MAA7B,EAAqCC,WAA9C;AAEAL,oBAAkBF,OAAMQ,SAAN,CAAQC,OAA1B;;AACAT,SAAMQ,SAAN,CAAQC,OAAR,GAAkB,aAACC,IAAD;AAEhB,QAAAC,OAAA,CAFgB,CCEhB;;ADAA,QAAGC,EAAEC,QAAF,CAAWH,KAAK,CAAL,CAAX,CAAH;AACER,sBAAgBY,KAAhB,CAAsB,IAAtB,EAA4BJ,IAA5B;AACA;ACED;;ADADC,cAAUZ,oBAAoBe,KAApB,CAA0B,IAA1B,EAAgCJ,IAAhC,CAAV;ACEA,WDAAR,gBAAgBY,KAAhB,CAAsB,IAAtB,EAA4BH,OAA5B,CCAA;ADRgB,GAAlB,CALqB,CCerB;AACA;;;ADCAV,0BAAwBI,OAAOI,OAA/B;ACCA,SDAAJ,OAAOI,OAAP,GAAiB,aAACC,IAAD;AAEf,QAAAC,OAAA,CAFe,CCEf;;ADAA,QAAGC,EAAEC,QAAF,CAAWH,KAAK,CAAL,CAAX,CAAH;AACET,4BAAsBa,KAAtB,CAA4B,IAA5B,EAAkCJ,IAAlC;AACA;ACED;;ADADC,cAAUZ,oBAAoBe,KAApB,CAA0B,IAA1B,EAAgCJ,IAAhC,CAAV;ACEA,WDAAT,sBAAsBa,KAAtB,CAA4B,IAA5B,EAAkCH,OAAlC,CCAA;ADRe,GCAjB;ADlBqB,CAAvB,C","file":"/packages/peerlibrary_extend-publish.js","sourcesContent":["export extendPublish = (newPublishArguments) ->\n  # DDP Server constructor.\n  Server = Object.getPrototypeOf(Meteor.server).constructor\n\n  originalPublish = Server::publish\n  Server::publish = (args...) ->\n    # If the first argument is an object, we let the original publish function to traverse it.\n    if _.isObject args[0]\n      originalPublish.apply this, args\n      return\n\n    newArgs = newPublishArguments.apply this, args\n\n    originalPublish.apply this, newArgs\n\n  # Because Meteor.publish is a bound function it remembers old\n  # prototype method so we have wrap it to directly as well.\n  originalMeteorPublish = Meteor.publish\n  Meteor.publish = (args...) ->\n    # If the first argument is an object, we let the original publish function to traverse it.\n    if _.isObject args[0]\n      originalMeteorPublish.apply this, args\n      return\n\n    newArgs = newPublishArguments.apply this, args\n\n    originalMeteorPublish.apply this, newArgs\n","export var extendPublish = function(newPublishArguments) {\n  var Server, originalMeteorPublish, originalPublish;\n  // DDP Server constructor.\n  Server = Object.getPrototypeOf(Meteor.server).constructor;\n  originalPublish = Server.prototype.publish;\n  Server.prototype.publish = function(...args) {\n    var newArgs;\n    // If the first argument is an object, we let the original publish function to traverse it.\n    if (_.isObject(args[0])) {\n      originalPublish.apply(this, args);\n      return;\n    }\n    newArgs = newPublishArguments.apply(this, args);\n    return originalPublish.apply(this, newArgs);\n  };\n  // Because Meteor.publish is a bound function it remembers old\n  // prototype method so we have wrap it to directly as well.\n  originalMeteorPublish = Meteor.publish;\n  return Meteor.publish = function(...args) {\n    var newArgs;\n    // If the first argument is an object, we let the original publish function to traverse it.\n    if (_.isObject(args[0])) {\n      originalMeteorPublish.apply(this, args);\n      return;\n    }\n    newArgs = newPublishArguments.apply(this, args);\n    return originalMeteorPublish.apply(this, newArgs);\n  };\n};\n"]}}]