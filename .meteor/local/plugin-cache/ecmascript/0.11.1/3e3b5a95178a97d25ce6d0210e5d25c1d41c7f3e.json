{"metadata":{},"options":{"plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$2","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"polyfill":false,"useBuiltIns":false}},{"key":"base$0$3","visitor":{"_exploded":{},"_verified":{},"PrivateName":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$6","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$0$1$1","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$2","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$3","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$4","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$5","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$6","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$7","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$8","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$9","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$10","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$11","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$12","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$13","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$14","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$15","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$16","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$17","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$18","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$19","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$20","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$21","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0$22","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$23","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]}},"options":{}}],"presets":[],"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/simiontomoiaga/git/server/packages/cultofcoders:grapher/lib/query/testing/bootstrap/fixtures.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining","pipelineOperator","throwExpressions","dynamicImport","classProperties","classPrivateProperties","jsx",["flow",{}],"asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}],"asyncGenerators"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"sourceFileName":"packages/cultofcoders:grapher/lib/query/testing/bootstrap/fixtures.js","filename":"/Users/simiontomoiaga/git/server/packages/cultofcoders:grapher/lib/query/testing/bootstrap/fixtures.js","passPerPreset":false,"envName":"development","cwd":"/Users/simiontomoiaga/git/server","root":"/Users/simiontomoiaga/git/server","generatorOpts":{"filename":"/Users/simiontomoiaga/git/server/packages/cultofcoders:grapher/lib/query/testing/bootstrap/fixtures.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"packages/cultofcoders:grapher/lib/query/testing/bootstrap/fixtures.js"}},"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar Random;\nmodule.watch(require(\"meteor/random\"), {\n  Random: function (v) {\n    Random = v;\n  }\n}, 0);\n\nvar _;\n\nmodule.watch(require(\"meteor/underscore\"), {\n  _: function (v) {\n    _ = v;\n  }\n}, 1);\nmodule.watch(require(\"./security/fixtures\"));\nvar Authors;\nmodule.watch(require(\"./authors/collection\"), {\n  \"default\": function (v) {\n    Authors = v;\n  }\n}, 2);\nvar Comments;\nmodule.watch(require(\"./comments/collection\"), {\n  \"default\": function (v) {\n    Comments = v;\n  }\n}, 3);\nvar Posts;\nmodule.watch(require(\"./posts/collection\"), {\n  \"default\": function (v) {\n    Posts = v;\n  }\n}, 4);\nvar Tags;\nmodule.watch(require(\"./tags/collection\"), {\n  \"default\": function (v) {\n    Tags = v;\n  }\n}, 5);\nvar Groups;\nmodule.watch(require(\"./groups/collection\"), {\n  \"default\": function (v) {\n    Groups = v;\n  }\n}, 6);\nAuthors.remove({});\nComments.remove({});\nPosts.remove({});\nTags.remove({});\nGroups.remove({});\nvar AUTHORS = 6;\nvar POST_PER_USER = 6;\nvar COMMENTS_PER_POST = 6;\nvar TAGS = ['JavaScript', 'Meteor', 'React', 'Other'];\nvar GROUPS = ['JavaScript', 'Meteor', 'React', 'Other'];\nvar COMMENT_TEXT_SAMPLES = ['Good', 'Bad', 'Neutral'];\nconsole.log('[testing] Loading test fixtures ...');\nvar tags = TAGS.map(function (name) {\n  return Tags.insert({\n    name: name\n  });\n});\nvar groups = GROUPS.map(function (name) {\n  return Groups.insert({\n    name: name,\n    createdAt: new Date()\n  });\n});\n\nvar authors = _.range(AUTHORS).map(function (idx) {\n  return Authors.insert({\n    name: 'Author - ' + idx,\n    profile: {\n      firstName: 'First Name - ' + idx,\n      lastName: 'Last Name - ' + idx\n    }\n  });\n});\n\nvar idx = 1;\n\n_.each(authors, function (author) {\n  idx++;\n  var authorPostLink = Authors.getLink(author, 'posts');\n  var authorGroupLink = Authors.getLink(author, 'groups');\n  authorGroupLink.add(groups[idx % 4], {\n    isAdmin: _.sample([true, false])\n  });\n\n  _.each(_.range(POST_PER_USER), function (idx) {\n    var post = {\n      title: \"User Post - \" + idx,\n      metadata: {\n        keywords: _.sample(TAGS, _.random(1, 2)),\n        language: (0, _objectSpread2.default)({}, _.sample([{\n          abbr: 'en',\n          title: 'English'\n        }, {\n          abbr: 'de',\n          title: 'Deutsch'\n        }]))\n      },\n      createdAt: new Date()\n    };\n    authorPostLink.add(post);\n    var postCommentsLink = Posts.getLink(post, 'comments');\n    var postTagsLink = Posts.getLink(post, 'tags');\n    var postGroupLink = Posts.getLink(post, 'group');\n    postGroupLink.set(_.sample(groups), {\n      random: Random.id()\n    });\n    postTagsLink.add(_.sample(tags));\n\n    _.each(_.range(COMMENTS_PER_POST), function (idx) {\n      var comment = {\n        text: _.sample(COMMENT_TEXT_SAMPLES)\n      };\n      postCommentsLink.add(comment);\n      Comments.getLink(comment, 'author').set(_.sample(authors));\n    });\n  });\n});\n\nconsole.log('[ok] fixtures have been loaded.');","map":{"version":3,"sources":["packages/cultofcoders:grapher/lib/query/testing/bootstrap/fixtures.js"],"names":["Random","module","watch","require","v","_","Authors","Comments","Posts","Tags","Groups","remove","AUTHORS","POST_PER_USER","COMMENTS_PER_POST","TAGS","GROUPS","COMMENT_TEXT_SAMPLES","console","log","tags","map","insert","name","groups","createdAt","Date","authors","range","idx","profile","firstName","lastName","each","author","authorPostLink","getLink","authorGroupLink","add","isAdmin","sample","post","title","metadata","keywords","random","language","abbr","postCommentsLink","postTagsLink","postGroupLink","set","id","comment","text"],"mappings":";;;;AAAA,IAAIA,MAAJ;AAAWC,OAAOC,KAAP,CAAaC,QAAQ,eAAR,CAAb,EAAsC;AAACH,QAAD,YAAQI,CAAR,EAAU;AAACJ,aAAOI,CAAP;AAAS;AAApB,CAAtC,EAA4D,CAA5D;;AAA+D,IAAIC,CAAJ;;AAAMJ,OAAOC,KAAP,CAAaC,QAAQ,mBAAR,CAAb,EAA0C;AAACE,GAAD,YAAGD,CAAH,EAAK;AAACC,QAAED,CAAF;AAAI;AAAV,CAA1C,EAAsD,CAAtD;AAAyDH,OAAOC,KAAP,CAAaC,QAAQ,qBAAR,CAAb;AAA6C,IAAIG,OAAJ;AAAYL,OAAOC,KAAP,CAAaC,QAAQ,sBAAR,CAAb,EAA6C;AAAA,uBAASC,CAAT,EAAW;AAACE,cAAQF,CAAR;AAAU;AAAtB,CAA7C,EAAqE,CAArE;AAAwE,IAAIG,QAAJ;AAAaN,OAAOC,KAAP,CAAaC,QAAQ,uBAAR,CAAb,EAA8C;AAAA,uBAASC,CAAT,EAAW;AAACG,eAASH,CAAT;AAAW;AAAvB,CAA9C,EAAuE,CAAvE;AAA0E,IAAII,KAAJ;AAAUP,OAAOC,KAAP,CAAaC,QAAQ,oBAAR,CAAb,EAA2C;AAAA,uBAASC,CAAT,EAAW;AAACI,YAAMJ,CAAN;AAAQ;AAApB,CAA3C,EAAiE,CAAjE;AAAoE,IAAIK,IAAJ;AAASR,OAAOC,KAAP,CAAaC,QAAQ,mBAAR,CAAb,EAA0C;AAAA,uBAASC,CAAT,EAAW;AAACK,WAAKL,CAAL;AAAO;AAAnB,CAA1C,EAA+D,CAA/D;AAAkE,IAAIM,MAAJ;AAAWT,OAAOC,KAAP,CAAaC,QAAQ,qBAAR,CAAb,EAA4C;AAAA,uBAASC,CAAT,EAAW;AAACM,aAAON,CAAP;AAAS;AAArB,CAA5C,EAAmE,CAAnE;AAUrgBE,QAAQK,MAAR,CAAe,EAAf;AACAJ,SAASI,MAAT,CAAgB,EAAhB;AACAH,MAAMG,MAAN,CAAa,EAAb;AACAF,KAAKE,MAAL,CAAY,EAAZ;AACAD,OAAOC,MAAP,CAAc,EAAd;AAEA,IAAMC,UAAU,CAAhB;AACA,IAAMC,gBAAgB,CAAtB;AACA,IAAMC,oBAAoB,CAA1B;AACA,IAAMC,OAAO,CAAC,YAAD,EAAe,QAAf,EAAyB,OAAzB,EAAkC,OAAlC,CAAb;AACA,IAAMC,SAAS,CAAC,YAAD,EAAe,QAAf,EAAyB,OAAzB,EAAkC,OAAlC,CAAf;AACA,IAAMC,uBAAuB,CACzB,MADyB,EACjB,KADiB,EACV,SADU,CAA7B;AAIAC,QAAQC,GAAR,CAAY,qCAAZ;AAEA,IAAIC,OAAOL,KAAKM,GAAL,CAAS;AAAA,SAAQZ,KAAKa,MAAL,CAAY;AAACC;AAAD,GAAZ,CAAR;AAAA,CAAT,CAAX;AACA,IAAIC,SAASR,OAAOK,GAAP,CAAW;AAAA,SAAQX,OAAOY,MAAP,CAAc;AAC1CC,cAD0C;AAE1CE,eAAW,IAAIC,IAAJ;AAF+B,GAAd,CAAR;AAAA,CAAX,CAAb;;AAIA,IAAIC,UAAUtB,EAAEuB,KAAF,CAAQhB,OAAR,EAAiBS,GAAjB,CAAqB,eAAO;AACtC,SAAOf,QAAQgB,MAAR,CAAe;AAClBC,UAAM,cAAcM,GADF;AAElBC,aAAS;AACLC,iBAAW,kBAAkBF,GADxB;AAELG,gBAAU,iBAAiBH;AAFtB;AAFS,GAAf,CAAP;AAOH,CARa,CAAd;;AAUA,IAAIA,MAAM,CAAV;;AACAxB,EAAE4B,IAAF,CAAON,OAAP,EAAgB,UAACO,MAAD,EAAY;AACxBL;AACA,MAAMM,iBAAiB7B,QAAQ8B,OAAR,CAAgBF,MAAhB,EAAwB,OAAxB,CAAvB;AACA,MAAMG,kBAAkB/B,QAAQ8B,OAAR,CAAgBF,MAAhB,EAAwB,QAAxB,CAAxB;AAEAG,kBAAgBC,GAAhB,CAAoBd,OAAOK,MAAM,CAAb,CAApB,EAAqC;AACjCU,aAASlC,EAAEmC,MAAF,CAAS,CAAC,IAAD,EAAO,KAAP,CAAT;AADwB,GAArC;;AAIAnC,IAAE4B,IAAF,CAAO5B,EAAEuB,KAAF,CAAQf,aAAR,CAAP,EAA+B,UAACgB,GAAD,EAAS;AACpC,QAAIY,OAAO;AACPC,8BAAsBb,GADf;AAEPc,gBAAU;AACNC,kBAAUvC,EAAEmC,MAAF,CAASzB,IAAT,EAAeV,EAAEwC,MAAF,CAAS,CAAT,EAAY,CAAZ,CAAf,CADJ;AAENC,kDACOzC,EAAEmC,MAAF,CAAS,CAAC;AAACO,gBAAM,IAAP;AAAaL,iBAAO;AAApB,SAAD,EAAiC;AAACK,gBAAM,IAAP;AAAaL,iBAAO;AAApB,SAAjC,CAAT,CADP;AAFM,OAFH;AAQPjB,iBAAW,IAAIC,IAAJ;AARJ,KAAX;AAWAS,mBAAeG,GAAf,CAAmBG,IAAnB;AACA,QAAMO,mBAAmBxC,MAAM4B,OAAN,CAAcK,IAAd,EAAoB,UAApB,CAAzB;AACA,QAAMQ,eAAezC,MAAM4B,OAAN,CAAcK,IAAd,EAAoB,MAApB,CAArB;AACA,QAAMS,gBAAgB1C,MAAM4B,OAAN,CAAcK,IAAd,EAAoB,OAApB,CAAtB;AACAS,kBAAcC,GAAd,CAAkB9C,EAAEmC,MAAF,CAAShB,MAAT,CAAlB,EAAoC;AAACqB,cAAQ7C,OAAOoD,EAAP;AAAT,KAApC;AAEAH,iBAAaX,GAAb,CAAiBjC,EAAEmC,MAAF,CAASpB,IAAT,CAAjB;;AAEAf,MAAE4B,IAAF,CAAO5B,EAAEuB,KAAF,CAAQd,iBAAR,CAAP,EAAmC,UAACe,GAAD,EAAS;AACxC,UAAIwB,UAAU;AACVC,cAAMjD,EAAEmC,MAAF,CAASvB,oBAAT;AADI,OAAd;AAIA+B,uBAAiBV,GAAjB,CAAqBe,OAArB;AACA9C,eAAS6B,OAAT,CAAiBiB,OAAjB,EAA0B,QAA1B,EAAoCF,GAApC,CAAwC9C,EAAEmC,MAAF,CAASb,OAAT,CAAxC;AACH,KAPD;AAQH,GA5BD;AA6BH,CAtCD;;AAwCAT,QAAQC,GAAR,CAAY,iCAAZ","sourcesContent":["import { Random } from 'meteor/random';\nimport { _ } from 'meteor/underscore';\nimport './security/fixtures';\n\nimport Authors from './authors/collection';\nimport Comments from './comments/collection';\nimport Posts from './posts/collection';\nimport Tags from './tags/collection';\nimport Groups from './groups/collection';\n\nAuthors.remove({});\nComments.remove({});\nPosts.remove({});\nTags.remove({});\nGroups.remove({});\n\nconst AUTHORS = 6;\nconst POST_PER_USER = 6;\nconst COMMENTS_PER_POST = 6;\nconst TAGS = ['JavaScript', 'Meteor', 'React', 'Other'];\nconst GROUPS = ['JavaScript', 'Meteor', 'React', 'Other'];\nconst COMMENT_TEXT_SAMPLES = [\n    'Good', 'Bad', 'Neutral'\n];\n\nconsole.log('[testing] Loading test fixtures ...');\n\nlet tags = TAGS.map(name => Tags.insert({name}));\nlet groups = GROUPS.map(name => Groups.insert({\n    name,\n    createdAt: new Date(),\n}));\nlet authors = _.range(AUTHORS).map(idx => {\n    return Authors.insert({\n        name: 'Author - ' + idx,\n        profile: {\n            firstName: 'First Name - ' + idx,\n            lastName: 'Last Name - ' + idx\n        }\n    });\n});\n\nlet idx = 1;\n_.each(authors, (author) => {\n    idx++;\n    const authorPostLink = Authors.getLink(author, 'posts');\n    const authorGroupLink = Authors.getLink(author, 'groups');\n\n    authorGroupLink.add(groups[idx % 4], {\n        isAdmin: _.sample([true, false])\n    });\n\n    _.each(_.range(POST_PER_USER), (idx) => {\n        let post = {\n            title: `User Post - ${idx}`,\n            metadata: {\n                keywords: _.sample(TAGS, _.random(1, 2)),\n                language: {\n                    ..._.sample([{abbr: 'en', title: 'English'}, {abbr: 'de', title: 'Deutsch'}]),\n                }\n            },\n            createdAt: new Date(),\n        };\n\n        authorPostLink.add(post);\n        const postCommentsLink = Posts.getLink(post, 'comments');\n        const postTagsLink = Posts.getLink(post, 'tags');\n        const postGroupLink = Posts.getLink(post, 'group');\n        postGroupLink.set(_.sample(groups), {random: Random.id()});\n\n        postTagsLink.add(_.sample(tags));\n\n        _.each(_.range(COMMENTS_PER_POST), (idx) => {\n            let comment = {\n                text: _.sample(COMMENT_TEXT_SAMPLES)\n            };\n\n            postCommentsLink.add(comment);\n            Comments.getLink(comment, 'author').set(_.sample(authors));\n        })\n    })\n});\n\nconsole.log('[ok] fixtures have been loaded.');\n"]},"sourceType":"script","hash":"3e3b5a95178a97d25ce6d0210e5d25c1d41c7f3e"}
